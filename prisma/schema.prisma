generator client {
  provider = "prisma-client-js"
}

// // DEV_DATABASE_URL="postgres://postgres:tesla@127.0.0.1:5432/redapple"
// let connstring = ""


datasource db {
  provider = "mysql"
  url      = "mysql://root:tesla@127.0.0.1:3306/reddotdb"
}

model role {
  id          BigInt      @id @default(autoincrement())
  name        String?     @db.VarChar(255)
  description String?     @db.VarChar(50)
  user_role   user_role[]
}


model user_role {
  
  role_id BigInt
  user_id BigInt
  role    role   @relation(fields: [role_id], references: [id])
  users   users  @relation(fields: [user_id], references: [id])

  @@id([role_id, user_id])
}

model users {
  id              BigInt      @id @default(autoincrement())
  centerid        BigInt?       
  username        String?     @db.VarChar(45)
  userpass        String?     @db.VarChar(255)
  mobilenumber    String?     @db.VarChar(20)
  email           String?     @db.VarChar(150)
  firstname       String?     @db.VarChar(45)
  lastName        String?     @db.VarChar(45)
  profileimgurl   String?     @db.VarChar(150)
  gender          String?     @db.VarChar(10)
  dob             String?     @db.VarChar(50)
  status          String?     @db.VarChar(20)
  address         String?     @db.VarChar(350)
  createdby       BigInt?     
  createddatetime DateTime?   @db.Timestamp(6)
  updatedby       BigInt?     
  updateddatetime DateTime?   @db.Timestamp(6)
  user_role       user_role[]
  @@unique([username], name: "username_UNIQUE")
}


model state {
  id            BigInt      @id @default(autoincrement())
  code          String?     @db.VarChar(20)
  description   String?     @db.VarChar(50)
  center        center[]
  
}


model timezones {
  id            BigInt      @id @default(autoincrement())
  timezone      String?     @db.VarChar(100)
  description   String?     @db.VarChar(100)
  offset        String?     @db.VarChar(100)
}


model center_banks {
  id            BigInt      @id @default(autoincrement())
  center_id     BigInt?
  bankname      String?     @db.VarChar(100)
  accountname   String?     @db.VarChar(150)
  accountno     String?     @db.VarChar(50)
  ifsccode      String?     @db.VarChar(50)
  branch        String?     @db.VarChar(50)
  createddate   DateTime?   @db.Timestamp(6)
  createdby     BigInt?
  updateddate   DateTime?   @db.Timestamp(6)
  updatedby     BigInt?
  isdefault     String?     @db.VarChar(1)
}



model center {
  id              BigInt      @id @default(autoincrement())
  company_id      BigInt?
  name            String?     @db.VarChar(150)
  address1        String?     @db.VarChar(50)
  address2        String?     @db.VarChar(50)
  address3        String?     @db.VarChar(50)
  state_id        BigInt
  pin             String?     @db.VarChar(50)
  district        String?     @db.VarChar(50)
  country         String?     @db.VarChar(50)
  location        String?     @db.VarChar(50)
  gst             String?     @db.VarChar(50)
  bankname        String?     @db.VarChar(100)
  accountname     String?     @db.VarChar(150)
  accountno       String?     @db.VarChar(50)
  ifsccode        String?     @db.VarChar(50)
  branch          String?     @db.VarChar(50)
  phone           String?     @db.VarChar(50)
  mobile          String?     @db.VarChar(50)
  mobile2         String?     @db.VarChar(50)
  whatsapp        String?     @db.VarChar(50)
  email           String?     @db.VarChar(50)
  tagline         String?     @db.VarChar(100)
  logo_name       String?     @db.VarChar(100)
  logo_url        String?     @db.VarChar(200)
  side_logo_name  String?     @db.VarChar(100)
  side_logo_url   String?     @db.VarChar(200)

  state           state      @relation(fields: [state_id], references: [id])
}


model product {
  id              BigInt      @id @default(autoincrement())
  center_id	      BigInt?
  brand_id	      BigInt     
  product_code	  String?	    @db.VarChar(50)
  description	    String?	    @db.VarChar(100)
  unit	          String?	    @db.VarChar(50)
  packetsize	    Int?	   
  hsncode	        String?	    @db.VarChar(50)
  currentstock	  String?     @db.VarChar(50)
  unit_price	    String?	    @db.VarChar(50)
  mrp	            String?	    @db.VarChar(50)
  purchase_price	String?	    @db.VarChar(50)
  salesprice	    String?	    @db.VarChar(50)
  rackno	        String?	    @db.VarChar(50)
  location	      String?	    @db.VarChar(50)
  maxdiscount	    String?	    @db.VarChar(50)
  alternatecode	  String?	    @db.VarChar(50)
  taxrate	        Decimal?	  @db.Decimal(10,2)
  minqty	        BigInt?
  itemdiscount	  String?	    @db.VarChar(50)
  reorderqty	    BigInt?
  avgpurprice	    Decimal?	  @db.Decimal(10,2)
  avgsaleprice	  Decimal?	  @db.Decimal(10,2)
  margin	        Decimal?	  @db.Decimal(10,2)
  createdon	      DateTime?   @db.Timestamp(6)
  updatedon	      DateTime?   @db.Timestamp(6)
  createdby	      BigInt?
  updatedby       BigInt?
  brand           brand      @relation(fields: [brand_id], references: [id])
  
}


model brand {
  id              BigInt      @id @default(autoincrement())
  center_id	      BigInt?
  name            String?	    @db.VarChar(150)
  isactive        String?	    @db.VarChar(1)
  createdon	      DateTime?   @db.Timestamp(6)
  product         product[]   
}



model customer {
  id                BigInt      @id @default(autoincrement())
  center_id	        BigInt?
  state_id	        BigInt?
  name	            String?	    @db.VarChar(150)
  address1	        String?	    @db.VarChar(50)
  address2	        String?	    @db.VarChar(50)
  address3	        String?	    @db.VarChar(50)
  district	        String?	    @db.VarChar(50)
  pin	              String?	    @db.VarChar(50) 
  gst	              String?	    @db.VarChar(50)
  phone	            String?	    @db.VarChar(50)
  whatsapp	        String?	    @db.VarChar(50)
  mobile	          String?	    @db.VarChar(50)
  mobile2	          String?	    @db.VarChar(50)
  email	            String?	    @db.VarChar(50)
  createdon	        DateTime?   @db.Timestamp(6)
  isactive	        String?	    @db.VarChar(1)
  contact	          String?	    @db.VarChar(50)
  tin	              String?	    @db.VarChar(50)
  panno	            String?	    @db.VarChar(50)
  credit_amt	      Decimal?	  @db.Decimal(10,2)
  balance_amt	      Decimal?	  @db.Decimal(10,2)
  last_paid_date    Decimal?	  @db.Decimal(10,2)
  sale              sale[]
}


model sale {
  id                      BigInt      @id @default(autoincrement())
  center_id	              BigInt?
  customer_id	            BigInt
  invoice_no	            String?	    @db.VarChar(50)
  invoice_date	          String?	    @db.VarChar(50)
  lr_no	                  String?	    @db.VarChar(50)
  lr_date	                String?	    @db.VarChar(50)
  received_date	          String?	    @db.VarChar(50)
  sales_type	            String?	    @db.VarChar(50)
  order_no	              String?	    @db.VarChar(50)
  order_date	            String?	    @db.VarChar(50)
  total_qty               BigInt?
  no_of_items	            Int?
  taxable_value           Decimal?	  @db.Decimal(10,2)
  cgst                    Decimal?	  @db.Decimal(10,2)
  sgst                    Decimal?	  @db.Decimal(10,2)
  igst                    Decimal?	  @db.Decimal(10,2)
  total_value	            Decimal?	  @db.Decimal(15,2)
  transport_charges	      Int?	
  unloading_charges       Int?
  misc_charges            Int?
  net_total               Decimal?	  @db.Decimal(15,2)
  no_of_boxes             Int?
  status                  String?	    @db.VarChar(1)
  sale_datetime           String?	    @db.VarChar(50)
  revision                BigInt?
  tax_applicable          String?	    @db.VarChar(50)
  stock_issue_ref         String?	    @db.VarChar(150)
  stock_issue_date_ref    String?	    @db.VarChar(50)
  roundoff                Decimal?	  @db.Decimal(10,2)
  retail_customer_name    String?	    @db.VarChar(150)
  retail_customer_address String?	    @db.VarChar(150)
  retail_customer_phone   String?	    @db.VarChar(50)
  print_count             Int?
  inv_gen_mode            String?	    @db.VarChar(1)
  customer                customer    @relation(fields: [customer_id], references: [id])
}


model discount {
  id                      BigInt      @id @default(autoincrement())
  center_id	              BigInt?
  customer_id	            BigInt
  type                    String?	    @db.VarChar(50)
  value                   Decimal?	  @db.Decimal(5,2)
  gst_slab                Int?	   
  startdate               String?	    @db.VarChar(50)
  enddate                 String?	    @db.VarChar(50)
  brand_id                BigInt?
  
}	

model permissions {
  id                      BigInt      @id @default(autoincrement())
  center_id	              BigInt?
  role_id                 BigInt
  operation               String?	    @db.VarChar(50)
  resource                String?	    @db.VarChar(120)
  is_access               String?	    @db.VarChar(1)
}

model payment_mode {
  id                      BigInt      @id @default(autoincrement())
  
}